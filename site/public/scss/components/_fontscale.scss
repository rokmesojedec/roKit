@use "scales";

@function get-scaled-value($base, $scale, $multiplier: false) {
    $scaledValue: $base;
    @if $multiplier {
        @for $index from 1 through $multiplier {
            $scaledValue: $scaledValue * $scale;
        }
    }
    @return $scaledValue;
}

@mixin CSS-calc-font-scale($scale, $class: ":root") {
    #{$class} {
        --scale: #{$scale};
        --base: calc(var(--base-font-size) * var(--scale));
        @for $index from 6 through 1 {
            @if $index == 6 {
                --h#{$index}: var(--base);
            } @else {
                $prev: $index + 1;
                --h#{$index}: calc(var(--h#{$prev}) * var(--scale));
            }
        }
        @if $class != ":root" {
            small,
            .small {
                font-size: calc(var(--base) / var(--scale));
            }
        }
    }
    @if $class == ":root" {
        @for $index from 6 through 1 {
            h#{$index} {
                transition: font-size 0.15s ease-in;
                font-size: var(--h#{$index});
            }
        }
        small,
        .small {
            font-size: calc(var(--base) / var(--scale));
        }
        p, div, section, header, footer, nav {
            font-size: var(--base);
        }
    }
}
